<main>
    <!--? slider Area Start-->
    <section class="slider-area slider-area2" >
      <div class="slider-active">
        <!-- Single Slider -->
     
 </div>
 </section>
 



 <!--? Blog Area Start -->
 <section id="blog-details" class="blog-details section">
   <div class="container">
     <article class="article">
 
       <!-- Image de l'article -->
       <div class="hero-img">
         <img src="assets/img/blog/blog-post-3.webp" alt="Featured blog image" class="img-fluid" loading="lazy" style="margin-top: 160px;">
         <div class="meta-overlay">
           <div class="meta-categories">
             <a href="#" class="category">Web Development</a>
             <span class="divider">•</span>
             <span class="reading-time"><i class="bi bi-clock"></i> 6 min read</span>
           </div>
         </div>
       </div>
 
       <!-- Contenu de l'article -->
       <div class="article-content" delay="100">
         <div class="content-header">
          
           <h1 class="title">{{ post?.title }}</h1>
 
           <!-- Infos de l'auteur -->
           <div class="author-info">
             <div class="author-details">
               <img src="assets/img/blog/person-f-8.webp" alt="Author" class="author-img">
               <div class="info">
                 <h4>{{post.createdBy}}</h4>
                 <span class="role">Senior Web Developer</span>
               </div>
             </div>
             <div class="post-meta">
               <span class="date"><i class="bi bi-calendar3"></i> {{post.createdAt}}</span>
               <span class="divider">•</span>
               <span class="comments"><i class="bi bi-chat-text"></i> 18 Comments</span>
             </div>
           </div>
         </div>
 
         <!-- Contenu principal -->
         <p>{{post.content}}</p>
       </div>
     </article>
 
     <!-- Section des commentaires -->
     <section  class="blog-comments section">
       <div class="container">
         <div class="blog-comments-3">
           <div class="section-header">
             <h3>Discussion <span class="comment-count">(2)</span></h3>
           </div>
 
           <div class="comments-wrapper">
             <!-- Commentaire 1 -->
             <article class="comment-card" *ngFor="let comment of comments">
               <div class="comment-header">
                
                 <div class="user-info">
                   <img src="assets/img/blog/person-f-9.webp" alt="User avatar" loading="lazy">
                   <div class="meta">
                     <h4 class="name">{{comment.createdBy}}</h4>
                     <span class="date"><i class="bi bi-calendar3"></i> {{comment.createdAt}}</span>
                   </div>
                 </div>
               </div>
               <div class="comment-content">
                 <p>{{comment.description}}</p>
                  <!-- ✅ Bouton Modifier visible seulement si l'userId correspond -->
                  
                  
              <button *ngIf="comment.userId === userId" class="btn-primary comment-button "
              (click)="editComment(comment)">Modifier</button>
               </div>
               <div class="comment-actions flex gap-2 mt-2">
                <!-- Like Button -->
                <button (click)="likeComment(comment)" 
                        class="action-btn flex items-center gap-1 px-3 py-1.5 bg-gray-100 hover:bg-blue-100 text-gray-700 hover:text-blue-600 rounded-full text-sm transition duration-200"
                        [ngClass]="{'bg-blue-100 text-blue-600': comment.userReaction === 'like'}">
                  <i class="bi bi-hand-thumbs-up"></i>
                  <span>{{ comment.likes }}</span>
                </button>
              
                <!-- Dislike Button -->
                <button (click)="dislikeComment(comment)" 
                        class="action-btn flex items-center gap-1 px-3 py-1.5 bg-gray-100 hover:bg-red-100 text-gray-700 hover:text-red-600 rounded-full text-sm transition duration-200"
                        [ngClass]="{'bg-red-100 text-red-600': comment.userReaction === 'dislike'}">
                  <i class="bi bi-hand-thumbs-down"></i>
                </button>
              </div>
              
              
             </article>
 
            
             <div class="container my-5">
              <div class="card shadow-lg border-0 custom-comment-card">
                <form [formGroup]="commentForm" method="post" class="p-5">
                  <h3 class="mb-4 text-center fw-bold comment-title">Share Your Comments</h3>
            
                  <div class="col-12 form-group mb-4">
                    <label for="comment" class="form-label comment-label">Your Comment *</label>
                    <textarea class="form-control form-control-lg comment-textarea" name="comment" rows="8" placeholder="Write your thoughts here..." formControlName="description"></textarea>
                  </div>
            
                  <div class="col-12 text-center">
                    <button type="submit" class="btn btn-primary" (click)="addComment()">
                      {{ editMode ? 'Mettre à jour' : 'Poster un commentaire' }}
                    </button>
                    <!--<button type="submit" class="btn btn-primary px-5 py-2 comment-button" (click)="addComment()">Post Comment</button>-->
                  </div>
                </form>
              </div>
            </div>
           
            

          <!-- /Blog Comment Form Section -->
         
         
       </div>
      </div>
    </div>
    
     </section>
   </div>
 </section>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
