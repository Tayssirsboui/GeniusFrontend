<main>
    <!--? Slider Area Start-->
    <section class="slider-area slider-area2">
        <div class="slider-active">
            <div class="single-slider slider-height2 d-flex align-items-center">
              <div class="container position-relative">
                
                <div class="row">
                  <div class="col-xl-10 col-lg-12 col-md-12 text-center mx-auto">
                    
                    <div class="hero__caption hero__caption2">
                        
                       
                      <!-- üìù Titre principal -->
                      <h1 class="display-4 fw-bold text-white mb-3">
                        Ajuter des Post üî•
                      </h1>
        
                      <!-- üìå Texte secondaire -->
                      <p class="lead text-light mb-4">
                        Cr√©ez votre propre post en quelques clics
                      </p>
        
                      <!-- ‚ûï Bouton "Ajouter un √©v√©nement" -->
                      <a routerLink="/add-post" 
                            class="btn hero-btn" 
                            data-animation="fadeInLeft" 
                            data-delay="0.7s" 
                            style="border-radius: 12px; padding: 10px 20px; display: inline-flex; align-items: center;">
                           <i class="fas fa-plus-circle mr-2"></i> Ajouter un post
                         </a>
                         
        
                      <!-- üß≠ Fil d‚ÄôAriane -->
                      <nav aria-label="breadcrumb" class="mt-4">
                        <ol class="breadcrumb justify-content-center mb-0">
                          <li class="breadcrumb-item">
                            <a routerLink="/" class="text-white-50">Accueil</a>
                          </li>
                          <li class="breadcrumb-item active text-white" aria-current="page">
                            Blog
                          </li>
                        </ol>
                      </nav>
                    </div>
                  </div>
                </div>
              </div>          
            </div>
          </div>
        <div class="slider-active">
            <!-- Single Slider -->
            <div class="single-slider slider-height2">
                 
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-xl-6 col-lg-7 col-md-12">
                        <div class="hero__caption">
                            <p data-animation="fadeInLeft" data-delay="0.4s">Build skills with courses, certificates, and degrees online from world-class universities and companies</p>
                           
                              
                        </div>
                    </div>
                </div>
            </div>           
        </div>
    </section>
    <!--? Blog Area Start-->
    <section class="blog_area section-padding">
        <div class="container">
            <div class="form-group">
                <div class="input-group mb-3">
                    <!-- Modern Search Input -->
                    <input type="text" class="form-control search-input" 
                    onfocus="this.placeholder = ''"  [(ngModel)]="searchTerm" placeholder="üîç Rechercher par  post..." 
                    onblur="this.placeholder = 'Search Keyword'">
                    
                    <div class="input-group-append">
                        <button class="btns search-btn" type="button"><i class="ti-search"></i></button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 mb-5 mb-lg-0">
                    <div class="blog_left_sidebar" >
                        <!-- Article Posts Loop -->
                        <article class="blog_item" *ngFor="let p of filteredPosts " >
                            <div class="blog_details border shadow-lg mb-4"
                            style="border-radius: 20px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); background-color: #fff;">
                                <div class="blog_item_img position-relative">
                                    <!-- Image de l'article -->
                                    <td class="icon-cell">
                                        <svg
                                          xmlns="http://www.w3.org/2000/svg"
                                          width="16"
                                          height="16"
                                          fill="currentColor"
                                          class="bi bi-three-dots-vertical"
                                          viewBox="0 0 16 16"
                                          (click)="toggleCard(categorie.idCategorie)"
                                        >
                                          <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                                        </svg>
                                      </td>
                                    <img class="card-img rounded-0" src="assets/img/blog/blog-post-3.webp" alt="">
                                    <!-- Date de publication -->
                                    <div class="blog_item_date position-absolute bottom-0 left-0 p-3">
                                        <h3 class="text-white">{{ p.createdAt | date:'d MMM yyyy' }}</h3> <!-- Format de la date -->
                                        <p class="text-white" style="font-size: 14px;">{{ p.createdAt | date:'shortTime' }}</p> <!-- Heure de la date -->
                                    </div>
                                </div>
                                <!-- Titre de l'article -->
                                <a class="d-inline-block" [routerLink]="['/blog-details', p.id]">
                                    <h2 class="blog-head" style="color: #333; font-size: 24px; font-weight: 700; margin-top: 20px;">
                                        {{ p.title }}
                                    </h2>
                                </a>
                                <!-- Contenu de l'article -->
                                <p style="font-size: 16px; line-height: 1.6; color: #555;">
                                    {{ p.content }}
                                </p>
                                <!-- Liens d'informations suppl√©mentaires -->
                                <ul class="blog-info-link" style="font-size: 14px; margin-top: 15px;">
                                    <li><a href="#"><i class="fa fa-user"></i> Travel, Lifestyle</a></li>
                                    <li><a href="#"><i class="fa fa-comments"></i> 03 Comments</a></li>
                                </ul>
                                <!--<a routerLink="/blog-details" class="btn hero-btn" data-animation="fadeInLeft" data-delay="0.7s">voir les details  </a>
                                    <!-- Bouton Supprimer avec confirmation -->
                                    <small>User post: {{ p.userId }} | Connected: {{ userId }}</small>

                                    <div class="d-flex justify-content-end gap-2 mt-2">
                                        <!-- Supprimer uniquement si userId connect√© === post.userId -->
                                        <button 
                                          *ngIf="p.userId === userId" 
                                          class="btn btn-danger btn-sm" 
                                          (click)="confirmDelete(p.id)" 
                                          style="background-color: #be2d2d; border: none; color: white; padding: 4px 10px; font-size: 0.8rem; border-radius: 4px;">
                                          ‚ùå Supprimer
                                        </button>
                                      
                                        <!-- Update uniquement si userId connect√© === post.userId -->
                                        <button 
                                          *ngIf="p.userId === userId" 
                                          class="btn btn-warning btn-sm" 
                                          [routerLink]="['/add-post', p.id]"
                                          style="padding: 4px 10px; font-size: 0.8rem; border-radius: 4px;">
                                          ‚úèÔ∏è Update
                                        </button>
                                        <div class="tooltip-container">
                                            <div class="button-content">
                                              <span class="text">Share</span>
                                              <svg
                                                class="share-icon"
                                                xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 24 24"
                                                width="24"
                                                height="24"
                                              >
                                                <path
                                                  d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"
                                                ></path>
                                              </svg>
                                            </div>
                                            <div class="tooltip-content">
                                              <div class="social-icons">
                                                <a href="#" class="social-icon twitter">
                                                  <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    viewBox="0 0 24 24"
                                                    width="24"
                                                    height="24"
                                                  >
                                                    <path
                                                      d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"
                                                    ></path>
                                                  </svg>
                                                </a>
                                                <a href="#" class="social-icon facebook">
                                                  <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    viewBox="0 0 24 24"
                                                    width="24"
                                                    height="24"
                                                  >
                                                    <path
                                                      d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                                                    ></path>
                                                  </svg>
                                                </a>
                                                <a href="#" class="social-icon linkedin">
                                                  <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    viewBox="0 0 24 24"
                                                    width="24"
                                                    height="24"
                                                  >
                                                    <path
                                                      d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                                                    ></path>
                                                  </svg>
                                                </a>
                                              </div>
                                            </div>
                                          </div>
                                          
                                      </div>
                                      
                            </div>
                            <!-- Modal de Confirmation -->
                        <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteLabel" aria-hidden="true">
                            <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                <h5 class="modal-title" id="confirmDeleteLabel">Confirmer la suppression</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                √ätes-vous s√ªr de vouloir supprimer ce post ? Cette action est irr√©versible.
                                </div>
                                <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                                <button type="button" class="btn btn-danger" (click)="deletePost()">Supprimer</button>
                                </div>
                            </div>
                            </div>
                        </div>
  
                        </article>

                        <!-- Pagination -->
                        <nav class="blog-pagination justify-content-center d-flex">
                            <ul class="pagination">
                                <li class="page-item">
                                    <a href="#" class="page-link" aria-label="Previous">
                                        <i class="ti-angle-left"></i>
                                    </a>
                                </li>
                                <li class="page-item">
                                    <a href="#" class="page-link">1</a>
                                </li>
                                <li class="page-item active">
                                    <a href="#" class="page-link">2</a>
                                </li>
                                <li class="page-item">
                                    <a href="#" class="page-link" aria-label="Next">
                                        <i class="ti-angle-right"></i>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div> 
                </div>

                <!-- Sidebar Section with Modern Search -->
                <div class="col-lg-4">
                    <div class="blog_right_sidebar">
                        

                        <!-- Recent Posts Section -->
                        <aside class="single_sidebar_widget popular_post_widget">
                            <h3 class="widget_title" style="color: #2d2d2d;">Recent Post</h3>
                            <div class="media post_item">
                                <img src="assets/img/post/post_1.png" alt="post">
                                <div class="media-body">
                                    <a href="blog_details.html">
                                        <h3 style="color: #2d2d2d;">From life was you fish...</h3>
                                    </a>
                                    <p>January 12, 2019</p>
                                </div>
                            </div>
                            <div class="media post_item">
                                <img src="assets/img/post/post_2.png" alt="post">
                                <div class="media-body">
                                    <a href="blog_details.html">
                                        <h3 style="color: #2d2d2d;">The Amazing Hubble</h3>
                                    </a>
                                    <p>02 Hours ago</p>
                                </div>
                            </div>
                            <div class="media post_item">
                                <img src="assets/img/post/post_3.png" alt="post">
                                <div class="media-body">
                                    <a href="blog_details.html">
                                        <h3 style="color: #2d2d2d;">Astronomy Or Astrology</h3>
                                    </a>
                                    <p>03 Hours ago</p>
                                </div>
                            </div>
                            <div class="media post_item">
                                <img src="assets/img/post/post_4.png" alt="post">
                                <div class="media-body">
                                    <a href="blog_details.html">
                                        <h3 style="color: #2d2d2d;">Asteroids telescope</h3>
                                    </a>
                                    <p>01 Hours ago</p>
                                </div>
                            </div>
                        </aside>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Blog Area End -->
</main>

<!-- Scroll Up -->
<div id="back-top" (click)="scrollToTop()" >
    <a title="Go to Top" > <i class="fas fa-level-up-alt"></i></a>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />